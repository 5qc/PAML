function getSpan(){const e=document.querySelectorAll("span");for(let t=0;t<e.length;t++){const r=e[t];let n="";r.getAttribute("color")&&(n+=`color:${r.getAttribute("color")};`,r.removeAttribute("color")),r.getAttribute("size")&&(n+=`font-size:${r.getAttribute("size")}`,r.removeAttribute("size")),r.getAttribute("face")&&(n+=`font-family:${r.getAttribute("face")}`,r.removeAttribute("face")),r.setAttribute("style",n)}}const generateVariables=()=>{const e={},t=document.querySelectorAll("set");for(let r=0;r<t.length;r++){const n=t[r],o=n.getAttribute("name"),i=n.innerHTML;for(let e=0;e<bannedChars.length;e++)if(o.includes(bannedChars[e]))return pamlErr(`Variable name ${o} uses banned character (${bannedChars[e]}).`);e[o]=i,n.remove();const l=RegExp(`(?<!<if exists="){{${o}}}`,"g");document.body.innerHTML=document.body.innerHTML.replace(l,i)}},bannedChars=["{","}","."],pamlErr=e=>console.error(`[PAML] ${e}`),generateDate=()=>{const e=(e,t)=>{const r=e=>e<10?`0${e}`:e,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=t.getMonth()+1,c=t.getDate(),a=t.getFullYear(),u=t.getDay(),g=t.getHours(),b=t.getMinutes(),m=t.getSeconds(),d=t.getMilliseconds(),f=0==t.getTimezoneOffset()?t.getTimezoneOffset():t.getTimezoneOffset()/60>0?`-${t.getTimezoneOffset()/60}`:`+${t.getTimezoneOffset()/60}`;return e=e.replace(/\byyyy\b/g,()=>a),e=e.replace(/\byy\b/g,()=>String(a).replace(/^../,"")),e=e.replace(/\bmmmm\b/g,()=>o[s-1]),e=e.replace(/\bmmm\b/g,()=>n[s-1]),e=e.replace(/\bmm\b/g,()=>r(s)),e=e.replace(/\bm\b/g,()=>s),e=e.replace(/\bdddd\b/g,()=>l[u]),e=e.replace(/\bddd\b/g,()=>i[u]),e=e.replace(/\bdd\b/g,()=>r(c)),e=e.replace(/\bd\b/g,()=>c),e=e.replace(/\bhour\b/g,()=>r(g)),e=e.replace(/\bmin\b/g,()=>r(b)),e=e.replace(/\bsec\b/g,()=>r(m)),e=e.replace(/\bms\b/g,()=>r(d)),e=e.replace(/\btz\b/g,()=>f),e},t=document.querySelectorAll("date");for(let r=0;r<t.length;r++){const n=t[r],o=null!==n.getAttribute("live"),i=n.getAttribute("format"),l=()=>{if(i){const t=new Date;return e(i,t)}{const e=new Date;return e}};if(!0===o){const e=()=>{n.innerHTML=String(l()),setTimeout(e,10)};e()}else!1===o&&(n.innerHTML=String(l()))}},generateFors=()=>{const e=document.querySelectorAll("for");for(let t=0;t<e.length;t++){const r=e[t],n=r.getAttribute("each"),o=r.getAttribute("in"),i=r.getAttribute("varName"),l=r.innerHTML;"i"===i&&pamlErr('Variable name "i" is reserved.');const s=document.querySelector(o),c=s.querySelectorAll(n);r.innerHTML="";for(let e=0;e<c.length;e++){const t=c[e];let n=l,o=RegExp(`{{${i}}}`,"g");n=n.replace(/{{i}}/g,e.toString()),n=n.replace(o,t.innerHTML),r.innerHTML+=n}}},generateIfs=()=>{const e=e=>e.getAttribute("exists")||e.getAttribute("exist")?"exists":e.getAttribute("not-exists")||e.getAttribute("notexists")||e.getAttribute("not-exist")||e.getAttribute("notexist")?"not-exists":void 0,t=document.querySelectorAll("if");for(let r=0;r<t.length;r++){const n=t[r],o=e(n),i=n.getAttribute(o),l="ELSE"===n.nextSibling.nodeName?n.nextSibling:"";if("exists"===o)if(i.startsWith("{{")&&i.endsWith("}}")){let e=!1;const t=i.replace(/^{{/,"").replace(/}}$/,""),r=document.querySelectorAll("set");for(let n=0;n<r.length;n++){const o=r[n];t===o.getAttribute("name")&&(e=!0)}if(!0===e){""!==l&&l.remove();const e=n.innerHTML;n.after(e),n.remove()}else if(n.remove(),""!==l){const e=l.innerHTML;l.after(e),l.remove()}}else{const e=document.querySelector(i);if(e){""!==l&&l.remove();const e=n.innerHTML;n.after(e),n.remove()}else if(n.remove(),""!==l){const e=l.innerHTML;l.after(e),l.remove()}}else if("not-exists"===o)if(i.startsWith("{{")&&i.endsWith("}}")){let e=!1;const t=i.replace(/^{{/,"").replace(/}}$/,""),r=document.querySelectorAll("set");for(let n=0;n<r.length;n++){const o=r[n];t!==o.getAttribute("name")&&l===o.getAttribute("name")&&(e=!0)}if(!1===e){""!==l&&l.remove();const e=n.innerHTML;n.after(e),n.remove()}else if(n.remove(),""!==l){const e=l.innerHTML;l.after(e),l.remove()}}else{const e=document.querySelector(i);if(e){if(n.remove(),""!==l){const e=l.innerHTML;l.after(e),l.remove()}}else{""!==l&&l.remove();const e=n.innerHTML;n.after(e),n.remove()}}}};let css='<style type="text/css">set{display:none}mobile,desktop{display:block}</style>';document.head.insertAdjacentHTML("beforeend",css);const getDevice=()=>{const e=document.querySelectorAll("mobile"),t=document.querySelectorAll("desktop");for(let t=0;t<e.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e[t].removeAttribute("style"):e[t].remove();for(let e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t[e].remove():t[e].removeAttribute("style")},generateFunctions=()=>{const e=document.querySelectorAll("function");let t={};for(let r=0;r<e.length;r++){const n=e[r],o=n.getAttribute("name"),i=n.getAttribute("arguments");t[o]={},t[o].content=n.innerHTML,t[o].arguments=i.split(" "),n.remove()}document.body.innerHTML=document.body.innerHTML.replace(/{{(.*?)}}/g,function(e,r){if(!0===/\(.*?\)$/.test(r)){const n=r.replace(/\((.*?)\)$/,"");let o,i=r.replace(/(.*?)(?=\(.*?\))/,"").replace(/^\(|\)$/g,"").split(",");for(let e=0;e<i.length;e++)i[e]=i[e].trim();try{o=t[n].content}catch(t){return e}return o=o.replace(/{{(.*?)}}/g,(e,r)=>{for(let e=0;e<t[n].arguments.length;e++){const o=t[n].arguments[e];if(o===r)return i[e]}}),o}return`{{${r}}}`})};generateFors(),generateIfs(),generateFunctions(),generateVariables(),generateDate(),getDevice(),getSpan();